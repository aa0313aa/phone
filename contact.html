<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ë¬¸ì˜ ë° ì˜ˆì•½ - ì „êµ­ëª¨ë°”ì¼</title>
  <meta name="description" content="í°í…Œí¬ ì¦‰ì‹œìƒë‹´! ì¹´í†¡(k090912k) ë˜ëŠ” ì „í™”(010-8290-9536) 24ì‹œê°„ ë¬´ë£Œìƒë‹´. ë‹¹ì¼ì²˜ë¦¬">
  <meta name="keywords" content="í°í…Œí¬ìƒë‹´,ë¯¸ë‚©ìš”ê¸ˆëŒ€ë‚©,ëŒ€ë‚©ê°œí†µìƒë‹´,ë¹„ëŒ€ë©´ê°œí†µì˜ˆì•½,ë¬´ë£Œìƒë‹´">
  <meta name="author" content="ì „êµ­ëª¨ë°”ì¼">
  <meta name="google-adsense-account" content="ca-pub-8628294888817937">
  <meta name="robots" content="index,follow">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://í°í…Œí¬.shop/contact.html">
  <meta property="og:title" content="ë¬¸ì˜ ë° ì˜ˆì•½ - ì „êµ­ëª¨ë°”ì¼">
  <meta property="og:description" content="í°í…Œí¬ ì¦‰ì‹œìƒë‹´! ì¹´í†¡(k090912k) ë˜ëŠ” ì „í™”(010-8290-9536) 24ì‹œê°„ ë¬´ë£Œìƒë‹´. ë‹¹ì¼ì²˜ë¦¬">
  <meta property="og:image" content="https://í°í…Œí¬.shop/assets/img/og-banner.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ë¬¸ì˜ ë° ì˜ˆì•½ - ì „êµ­ëª¨ë°”ì¼">
  <meta name="twitter:description" content="í°í…Œí¬ ì¦‰ì‹œìƒë‹´! ì¹´í†¡(k090912k) ë˜ëŠ” ì „í™”(010-8290-9536) 24ì‹œê°„ ë¬´ë£Œìƒë‹´. ë‹¹ì¼ì²˜ë¦¬">
  <meta name="twitter:image" content="https://í°í…Œí¬.shop/assets/img/og-banner.png">
  <meta name="twitter:domain" content="ì „êµ­ëª¨ë°”ì¼">

  <link rel="canonical" href="https://í°í…Œí¬.shop/contact.html">
  <link rel="icon" type="image/svg+xml" href="assets/img/favicon.svg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="assets/css/styles.css" rel="stylesheet">
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body shadow-sm sticky-top" aria-label="ì£¼ìš” ë‚´ë¹„ê²Œì´ì…˜">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html"><img src="assets/img/favicon.svg" alt="ì „êµ­ëª¨ë°”ì¼" width="28"
          height="28" class="me-2">ì „êµ­ëª¨ë°”ì¼</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
        aria-expanded="false" aria-label="ë‚´ë¹„ê²Œì´ì…˜ í† ê¸€"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">í™ˆ</a></li>
          <li class="nav-item"><a class="nav-link" href="services.html">ì„œë¹„ìŠ¤</a></li>
          <li class="nav-item"><a class="nav-link" href="information.html">ì´ìš©ì•ˆë‚´</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">íšŒì‚¬ì†Œê°œ</a></li>
          <li class="nav-item"><a class="nav-link active" href="contact.html">ë¬¸ì˜/ì˜ˆì•½</a></li>
          <li class="nav-item"><a class="nav-link" href="phonetech-guide.html">í°í…Œí¬ê°€ì´ë“œ</a></li>
          <li class="nav-item"><a class="nav-link" href="phonetech-tips.html">ì•ˆì „ì´ìš©íŒ</a></li>
          <li class="nav-item"><a class="nav-link" href="blog.html">ë¸”ë¡œê·¸</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <header class="py-5 bg-primary text-white">
    <div class="container">
      <h1 class="h2 fw-bold">ë¬¸ì˜ / ìƒë‹´ì˜ˆì•½</h1>
      <p class="text-white-50 mb-0">í•„ìˆ˜ í•­ëª©ë§Œ ì…ë ¥í•˜ë©´ ë¹ ë¥´ê²Œ ìƒë‹´ ë„ì™€ë“œë¦½ë‹ˆë‹¤.</p>
    </div>
  </header>
  <main class="py-5">
    <div class="container">
      <div class="row g-5">
        <div class="col-lg-7">
          <form class="needs-validation" novalidate id="contactForm" method="POST"
            action="https://script.google.com/macros/s/AKfycbzwr1Y2880sB6s5HeM4pwJ3QxAPweGgmmMymL97XaTwTIqvZeshMVhafRvcPBJA_63wwA/exec">
            <div class="alert alert-info small" role="alert"><i class="bi bi-info-circle me-1"></i> ì•„ë˜ ì •ë³´ë§Œìœ¼ë¡œ ìƒë‹´ ì¡°ê±´ ì•ˆë‚´ ë°
              í˜œíƒ ë¹„êµê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¯¼ê°ì •ë³´(ì£¼ë¯¼ë²ˆí˜¸ ë“±)ëŠ” ì ˆëŒ€ ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”.</div>
            <div class="mb-3"><label class="form-label" for="name">ì´ë¦„</label><input class="form-control" id="name"
                name="ì´ë¦„" required>
              <div class="invalid-feedback">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
            </div>
            <div class="mb-3"><label class="form-label" for="phone">ì—°ë½ì²˜</label><input class="form-control" id="phone"
                name="ì—°ë½ì²˜" type="tel" pattern="^[0-9\-]{9,13}$" required>
              <div class="form-text">ìˆ«ìì™€ '-'ë§Œ ì…ë ¥ (ì˜ˆ: 010-1234-5678)</div>
              <div class="invalid-feedback">ì˜¬ë°”ë¥¸ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
            </div>
            <div class="mb-3"><label class="form-label" for="type">ë¬¸ì˜ ìœ í˜•</label><select class="form-select" id="type"
                name="ë¬¸ì˜ìœ í˜•" required>
                <option value="" disabled selected>ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option>ë¹„ëŒ€ë©´ ê°œí†µ</option>
                <option>ë§¤ì¥ ë°©ë¬¸</option>
                <option>íœ´ëŒ€í° ë§¤ì…</option>
                <option>ì¼ë°˜ ìƒë‹´</option>
              </select>
              <div class="invalid-feedback">ë¬¸ì˜ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
            </div>
            <div class="mb-3"><label class="form-label" for="carrier">í†µì‹ ì‚¬</label><select class="form-select"
                id="carrier" name="í†µì‹ ì‚¬">
                <option value="" selected>ì„ íƒ(ì„ íƒì‚¬í•­)</option>
                <option>SKT</option>
                <option>KT</option>
                <option>LGU+</option>
                <option>ì•Œëœ° / MVNO</option>
              </select></div>
            <div class="mb-3"><label class="form-label" for="recentActive">ìµœê·¼ê°œí†µì¼</label><input class="form-control"
                id="recentActive" name="ìµœê·¼ê°œí†µì¼" type="date" max="9999-12-31">
              <div class="form-text">ìµœê·¼ íšŒì„ /ê¸°ê¸° ê°œí†µì¼ (ì„ íƒ)</div>
            </div>
            <div class="mb-3"><label class="form-label" for="arrears">ë¯¸ë‚©ì—°ì²´</label><select class="form-select"
                id="arrears" name="ë¯¸ë‚©ì—°ì²´">
                <option value="" selected>ì„ íƒ(ì„ íƒì‚¬í•­)</option>
                <option>ì—†ìŒ</option>
                <option>ìš”ê¸ˆ ë¯¸ë‚©</option>
                <option>ì—°ì²´ ìš°ë ¤</option>
              </select></div>
            <div class="mb-3"><label class="form-label" for="region">ì§€ì—­</label><input class="form-control" id="region"
                name="ì§€ì—­" placeholder="ì˜ˆ) ì„œìš¸ ê°•ë‚¨ / ë¶€ì‚° í•´ìš´ëŒ€ ë“±"></div>
            <div class="mb-3"><label class="form-label" for="desired">í¬ë§ì§„í–‰ë°©ì‹</label><select class="form-select"
                id="desired" name="í¬ë§ì§„í–‰ë°©ì‹">
                <option value="" selected>ì„ íƒ(ì„ íƒì‚¬í•­)</option>
                <option>ë¹„ëŒ€ë©´ ê°œí†µ</option>
                <option>ë§¤ì¥ ë°©ë¬¸</option>
                <option>íƒë°° / í€µ</option>
              </select></div>
            <div class="mb-3"><label class="form-label" for="message">ìƒì„¸ë‚´ìš©</label><textarea class="form-control"
                id="message" name="ìƒì„¸ë‚´ìš©" rows="5" placeholder="ì˜ˆ) ì•„ì´í°15 ê¸°ë³€ ì¡°ê±´ ë¬¸ì˜" required></textarea>
              <div class="invalid-feedback">ìƒì„¸ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
            </div>
            <div class="mb-3 form-check"><input class="form-check-input" type="checkbox" id="agree" required><label
                class="form-check-label" for="agree">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</label>
              <div class="invalid-feedback">ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.</div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary btn-lg"><i class="bi bi-send me-2"></i>ìƒë‹´ ì‹ ì²­í•˜ê¸°</button>
            </div>
            <div id="formResult" class="mt-3 small"></div>
          </form>
          <!-- Google Form ìë™ ì œì¶œ ì²˜ë¦¬ìš© iframe (ë ˆê±°ì‹œ í˜¸í™˜) -->
          <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
            onload="if(submitted) { handleFormSuccess(); }"></iframe>
          <!-- ì´ë©”ì¼ë¡œ ì˜ˆë¹„ ì œì¶œ (FormSubmit ë°±ì—… ê²½ë¡œ) -->
          <form id="hiddenEmailForm" action="https://formsubmit.co/k9536k@gmail.com" method="POST" target="_blank"
            class="d-none">
            <input type="hidden" name="_subject" value="ì „êµ­ëª¨ë°”ì¼ ìƒë‹´ ì˜ˆì•½" />
            <input type="hidden" name="_captcha" value="false" />
            <input type="hidden" name="_template" value="table" />
            <input type="hidden" name="ì´ë¦„" id="email_name" />
            <input type="hidden" name="ì—°ë½ì²˜" id="email_phone" />
            <input type="hidden" name="ìœ í˜•" id="email_type" />
            <input type="hidden" name="ë‚´ìš©" id="email_message" />
            <input type="hidden" name="ì œì¶œì‹œê°" id="email_time" />
            <!-- í•„ìš” ì‹œ, ì œì¶œ í›„ ì´ë™í•  ì™„ë£Œ í˜ì´ì§€ ì£¼ì†Œ
  <input type="hidden" name="_next" value="https://yourdomain.com/thanks.html" /> -->
            <!-- ìŠ¤íŒ¸ ë°©ì§€ìš© í—ˆë‹ˆíŒŸ -->
            <input type="text" name="_honey" style="display:none" />
          </form>
        </div>
        <div class="col-lg-5">
          <div class="p-4 bg-body-tertiary border rounded-3 h-100">
            <h2 class="h5">ì§ì ‘ ì—°ë½</h2>
            <p class="small mb-1"><i class="bi bi-telephone me-1"></i>ì „í™”: <a href="tel:010-8290-9536">010-8290-9536</a>
            </p>
            <p class="small mb-1"><i class="bi bi-chat-dots me-1"></i>ì¹´ì¹´ì˜¤í†¡: <a href="http://pf.kakao.com/_gIKxnn/chat"
                target="_blank" rel="noopener">ë°”ë¡œê°€ê¸°</a> <span class="badge text-bg-warning text-dark ms-1">ID:
                k090912k</span></p>
            <p class="small mb-3"><i class="bi bi-envelope me-1"></i>ì´ë©”ì¼: <a
                href="mailto:k9536k@gmail.com">k9536k@gmail.com</a></p>
            <hr>
            <h3 class="h6 text-secondary">ìœ ì˜ ì‚¬í•­</h3>
            <ul class="small mb-0">
              <li>ì‹¤ì œ ì˜ˆì•½ í™•ì •ì€ ìƒë‹´ì›ì˜ í™•ì¸ í›„ ì§„í–‰ë©ë‹ˆë‹¤.</li>
              <li>ë¯¼ê° ì •ë³´(ê³„ì • ë¹„ë°€ë²ˆí˜¸ ë“±)ëŠ” ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”.</li>
              <li>ë§¤ìš° ê¸‰í•œ ë¬¸ì˜ëŠ” ì „í™” ì´ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer class="py-4 bg-dark text-light">
    <div class="container small d-flex justify-content-between flex-wrap gap-3">
      <span>Â© 2025 ì „êµ­ëª¨ë°”ì¼</span>
      <a class="link-light text-decoration-none" href="#top" id="backToTop">ë§¨ìœ„ë¡œ</a>
    </div>
  </footer>

  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "í™ˆ",
      "item": "https://í°í…Œí¬.shop/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "ë¬¸ì˜/ì˜ˆì•½",
      "item": "https://í°í…Œí¬.shop/contact.html"
    }
  ]
}
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script>/* ìƒë‹´/ì˜ˆì•½ UX ê°•í™” + ì˜ˆë¹„ ì´ë©”ì¼ ê²½ë¡œ + ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ ë°ëª¨ */
    (() => {
      const form = document.getElementById('contactForm');
      const result = document.getElementById('formResult');
      const kakaoLink = 'http://pf.kakao.com/_gIKxnn/chat';
      const emailBtn = document.getElementById('emailSubmit');
      const emailForm = document.getElementById('hiddenEmailForm');
      const reservationsContainerId = 'reservationsTableContainer';
      if (!form) return;

      // í¼ ê°’ í—¬í¼
      const fv = (sel) => (form.querySelector(sel)?.value || '').trim();

      // ìŠ¤íŒ¸ ë°©ì§€(í—ˆë‹ˆíŒŸ) í•„ë“œ ì¶”ê°€
      const honeypot = document.createElement('input');
      honeypot.type = 'text'; honeypot.name = 'website'; honeypot.autocomplete = 'off';
      honeypot.style.position = 'absolute'; honeypot.style.left = '-9999px'; honeypot.tabIndex = -1;
      form.appendChild(honeypot);

      // ìµœê·¼ ì œì¶œ ë¡œì»¬ í‘œì‹œ ì˜ì—­
      const recentBox = document.createElement('div');
      recentBox.className = 'mt-4 small';
      recentBox.innerHTML = '<strong>ìµœê·¼ ì œì¶œ(ë¡œì»¬ ì €ì¥):</strong><div id="recentSubmissions" class="mt-2 d-flex flex-column gap-1"></div>';
      form.parentElement?.appendChild(recentBox);

      function renderRecent() {
        const listEl = document.getElementById('recentSubmissions');
        if (!listEl) return;
        const items = JSON.parse(localStorage.getItem('recentReservations') || '[]');
        listEl.innerHTML = items.map(i => `<div class="border rounded p-2 bg-body-tertiary">${i.time} Â· ${i.name} / ${i.type}<br><span class="text-secondary">${i.phone}</span></div>`).join('');
      }
      renderRecent();

      form.addEventListener('submit', async (e) => {
        e.preventDefault(); // ê¸°ë³¸ ì œì¶œ ë§‰ê¸°

        // ìœ íš¨ì„± ê²€ì‚¬
        if (!form.checkValidity()) {
          form.classList.add('was-validated');
          result.innerHTML = '<span class="text-danger">ì…ë ¥ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
          return;
        }
        if (honeypot.value) { // ìŠ¤íŒ¸ ì˜ì‹¬
          result.innerHTML = '<span class="text-warning">ì œì¶œì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤(ìŠ¤íŒ¸ ì˜ì‹¬).</span>';
          return;
        }

        // ì œì¶œ ì¤‘ ì•ˆë‚´ ë©”ì‹œì§€
        result.innerHTML = '<span class="text-info"><i class="bi bi-hourglass-split"></i> ìƒë‹´ ìš”ì²­ì„ ì „ì†¡ì¤‘ì…ë‹ˆë‹¤â€¦</span>';

        try {
          // FormDataë¡œ ì…ë ¥ê°’ ìˆ˜ì§‘
          const formData = new FormData(form);

          // Google Apps Scriptë¡œ ì „ì†¡
          const response = await fetch(form.action, {
            method: 'POST',
            body: formData
          });

          const data = await response.json();

          if (data.result === 'success') {
            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            result.innerHTML = '<div class="alert alert-success"><i class="bi bi-check-circle-fill me-2"></i><strong>ìƒë‹´ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.</strong><br>ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>';

            // ë¡œì»¬ ì €ì¥(ìµœê·¼ 5ê±´)
            const localData = {
              name: fv('#name'),
              phone: fv('#phone'),
              type: fv('#type'),
              region: fv('#region'),
              submittedAt: new Date().toLocaleString()
            };

            const arr = JSON.parse(localStorage.getItem('recentReservations') || '[]');
            arr.unshift({ time: localData.submittedAt, name: localData.name, phone: localData.phone, type: localData.type, region: localData.region });
            localStorage.setItem('recentReservations', JSON.stringify(arr.slice(0, 5)));
            renderRecent();

            // í¼ ì´ˆê¸°í™”
            form.reset();
            form.classList.remove('was-validated');
          } else {
            result.innerHTML = '<div class="alert alert-warning"><i class="bi bi-exclamation-triangle-fill me-2"></i>ì œì¶œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</div>';
          }
        } catch (error) {
          console.error('ì œì¶œ ì˜¤ë¥˜:', error);
          result.innerHTML = '<div class="alert alert-danger"><i class="bi bi-x-circle-fill me-2"></i>ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</div>';
        }
      });

      // ì´ë©”ì¼ë¡œ ì˜ˆë¹„ ì „ì†¡ (FormSubmit ì œì¶œ)
      emailBtn?.addEventListener('click', (e) => {
        e.preventDefault();
        if (!form.checkValidity()) {
          form.classList.add('was-validated');
          result.innerHTML = '<span class="text-danger">ì…ë ¥ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
          return;
        }
        if (!emailForm) return;

        const action = emailForm.getAttribute('action') || '';
        if (action.includes('YOUR_EMAIL')) {
          result.innerHTML = '<span class="text-warning">ê´€ë¦¬ì ì„¤ì • í•„ìš”: contact.html ìƒë‹¨ì˜ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì‹¤ì œ ì£¼ì†Œë¡œ ë°”ê¿”ì£¼ì„¸ìš”.</span>';
          return;
        }

        const submittedAt = new Date().toLocaleString();
        document.getElementById('email_name').value = fv('#name');
        document.getElementById('email_phone').value = fv('#phone');
        document.getElementById('email_type').value = fv('#type');
        document.getElementById('email_message').value = fv('#message');
        document.getElementById('email_time').value = submittedAt;

        emailForm.submit();
        result.innerHTML = '<span class="text-success">ì´ë©”ì¼ ì œì¶œ ì°½ì´ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ë ¸ìŠµë‹ˆë‹¤. ì™„ë£Œ ë©”ì‹œì§€ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
        form.reset();
        form.classList.remove('was-validated');
      });
    })();
    // --- ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ ë°ëª¨ ë¡œì§ ---
    async function fetchBaseReservations() {
      try {
        // ë§Œì•½ Google Sheets CSVê°€ ì§€ì •ë˜ì—ˆë‹¤ë©´ ìš°ì„  ì‚¬ìš©
        const csvUrl = document.querySelector('meta[name="reservations-csv-url"]')?.content?.trim();
        if (csvUrl) {
          const resCsv = await fetch(csvUrl, { cache: 'no-store' });
          if (resCsv.ok) {
            const text = await resCsv.text();
            const parsed = parseCsvReservations(text);
            if (parsed.length) return parsed;
          }
        }
        // ê¸°ë³¸ ë¡œì»¬ ë°ëª¨ JSON
        const res = await fetch('/assets/data/reservations.json', { cache: 'no-store' });
        if (!res.ok) return generateDemoReservations();
        const data = await res.json();
        return Array.isArray(data) ? data : generateDemoReservations();
      } catch (e) { return generateDemoReservations(); }
    }
    function generateDemoReservations() {
      // ì‹¤ì œì²˜ëŸ¼ ë³´ì´ëŠ” ë°ëª¨ ë°ì´í„° ìƒì„±
      const regions = ['ì„œìš¸ ê°•ë‚¨', 'ì„œìš¸ ê°•ì„œ', 'ì¸ì²œ ë¶€í‰', 'ê²½ê¸° ìˆ˜ì›', 'ê²½ê¸° ë¶„ë‹¹', 'ë¶€ì‚° í•´ìš´ëŒ€', 'ëŒ€êµ¬ ë™ì„±ë¡œ', 'ê´‘ì£¼ ì¶©ì¥ë¡œ', 'ëŒ€ì „ ë‘”ì‚°', 'ìš¸ì‚° ì‚¼ì‚°'];
      const methods = ['ë¹„ëŒ€ë©´ê°œí†µ', 'ë§¤ì¥ë°©ë¬¸', 'íƒë°°ë°œì†¡'];
      const statuses = ['ì ‘ìˆ˜ì™„ë£Œ', 'ì§„í–‰ì¤‘', 'ì™„ë£Œ'];
      const names = ['ê¹€â—‹â—‹', 'ì´â—‹â—‹', 'ë°•â—‹â—‹', 'ìµœâ—‹â—‹', 'ì •â—‹â—‹', 'ê°•â—‹â—‹', 'ì¡°â—‹â—‹', 'ìœ¤â—‹â—‹', 'ì¥â—‹â—‹', 'ì„â—‹â—‹'];
      const result = [];
      const now = new Date();
      for (let i = 0; i < 15; i++) {
        const datetime = new Date(now - Math.random() * 7 * 24 * 60 * 60 * 1000);
        result.push({
          region: regions[Math.floor(Math.random() * regions.length)],
          datetime: datetime.toLocaleString('ko-KR', { month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' }),
          name: names[Math.floor(Math.random() * names.length)],
          phone: `010-****-${String(Math.floor(Math.random() * 9000) + 1000)}`,
          method: methods[Math.floor(Math.random() * methods.length)],
          status: statuses[Math.floor(Math.random() * statuses.length)]
        });
      }
      return result.sort((a, b) => b.datetime.localeCompare(a.datetime));
    }
    function parseCsvReservations(csvText) {
      // í—¤ë” ê°€ì •: region,datetime,name,phone,method,status
      const lines = csvText.split(/\r?\n/).filter(l => l.trim().length > 0);
      if (lines.length < 2) return [];
      const header = lines[0].split(',').map(h => h.trim().toLowerCase());
      const idx = h => header.indexOf(h);
      const out = [];
      for (let i = 1; i < lines.length; i++) {
        const cols = lines[i].split(',');
        if (cols.length < 2) continue;
        out.push({
          region: cols[idx('region')]?.trim() || '',
          datetime: cols[idx('datetime')]?.trim() || '',
          name: cols[idx('name')]?.trim() || '',
          phone: cols[idx('phone')]?.trim() || '',
          method: cols[idx('method')]?.trim() || '',
          status: cols[idx('status')]?.trim() || ''
        });
      }
      return out;
    }
    function maskName(name) {
      if (!name) return '';
      if (name.length < 2) return name;
      return name[0] + '*' + name.slice(2);
    }
    function maskPhone(phone) {
      return phone.replace(/(\d{3})\d{2,4}(\d{4})/, '$1-****-$2');
    }
    function getMergedReservations(base) {
      const local = JSON.parse(localStorage.getItem('allReservationsDemo') || '[]');
      return [...local, ...base];
    }
    function paginate(items, page, perPage) {
      const total = items.length;
      const pages = Math.ceil(total / perPage);
      const start = (page - 1) * perPage;
      return { page, pages, total, slice: items.slice(start, start + perPage) };
    }
    async function renderReservations() {
      const wrap = document.getElementById('reservationsTableContainer');
      if (!wrap) return;
      const searchInput = document.getElementById('reservationSearch');
      const pageSelect = document.getElementById('reservationPage');
      const perPage = 10;
      const base = await fetchBaseReservations();
      let merged = getMergedReservations(base);
      const keyword = (searchInput?.value || '').trim();
      if (keyword) {
        merged = merged.filter(r => r.name.includes(keyword) || r.region.includes(keyword) || r.method.includes(keyword));
      }
      const currentPage = parseInt(pageSelect?.value || '1', 10);
      const { page, pages, slice } = paginate(merged, currentPage, perPage);
      const tbody = document.getElementById('reservationsBody');
      if (tbody) {
        tbody.innerHTML = slice.map((r, idx) => {
          const rowNum = (page - 1) * perPage + idx + 1;
          const statusClass = r.status === 'ì™„ë£Œ' ? 'success' : r.status === 'ì§„í–‰ì¤‘' ? 'primary' : 'warning';
          const statusIcon = r.status === 'ì™„ë£Œ' ? 'check-circle-fill' : r.status === 'ì§„í–‰ì¤‘' ? 'arrow-repeat' : 'clock-fill';
          return `<tr class="fade-in">
        <td class="text-center text-muted fw-bold">${rowNum}</td>
        <td class="text-nowrap"><span class="badge bg-light text-dark">${r.region || '-'}</span></td>
        <td class="text-muted small">${r.datetime}</td>
        <td class="fw-semibold">${maskName(r.name)}</td>
        <td class="text-muted">${maskPhone(r.phone)}</td>
        <td><span class="badge bg-${statusClass}"><i class="bi bi-${statusIcon} me-1"></i>${r.status}</span></td>
      </tr>`;
        }).join('');
      }
      // í˜ì´ì§€ ì„ íƒ UI êµ¬ì„±
      if (pageSelect) {
        pageSelect.innerHTML = Array.from({ length: pages || 1 }, (_, i) => `<option value="${i + 1}" ${i + 1 === page ? 'selected' : ''}>í˜ì´ì§€ ${i + 1}/${pages || 1}</option>`).join('');
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      // ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ UI ì‚½ì…
      const target = document.querySelector('#contactForm')?.parentElement;
      if (target && !document.getElementById('reservationsTableContainer')) {
        const box = document.createElement('div');
        box.className = 'mt-5 p-4 bg-white border rounded-3 shadow-sm';
        box.innerHTML = `
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 mb-0 fw-bold text-primary">
          <i class="bi bi-clock-history me-2"></i>ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™©
          <span class="badge bg-success ms-2 pulse-animation">LIVE</span>
        </h2>
        <button id="reservationRefresh" class="btn btn-sm btn-outline-primary">
          <i class="bi bi-arrow-clockwise me-1"></i>ìƒˆë¡œê³ ì¹¨
        </button>
      </div>
      <div class="mb-3 d-flex justify-content-end">
        <input id="reservationSearch" class="form-control form-control-sm" style="max-width:200px" placeholder="ğŸ” ì§€ì—­/ì´ë¦„ ê²€ìƒ‰">
      </div>
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0" style="font-size:0.9rem;">
          <thead class="table-primary">
            <tr>
              <th class="text-center" style="width:50px"><i class="bi bi-hash"></i></th>
              <th><i class="bi bi-geo-alt-fill me-1"></i>ì§€ì—­</th>
              <th><i class="bi bi-clock-fill me-1"></i>ì ‘ìˆ˜ì‹œê°„</th>
              <th><i class="bi bi-person-fill me-1"></i>ê³ ê°ëª…</th>
              <th><i class="bi bi-telephone-fill me-1"></i>ì—°ë½ì²˜</th>
              <th><i class="bi bi-clipboard-check-fill me-1"></i>ìƒíƒœ</th>
            </tr>
          </thead>
          <tbody id="reservationsBody"></tbody>
        </table>
      </div>
      <div class="d-flex justify-content-between align-items-center mt-3">
        <select id="reservationPage" class="form-select form-select-sm" style="width:120px"></select>
        <small class="text-muted">
          <i class="bi bi-shield-check me-1"></i>ê°œì¸ì •ë³´ëŠ” ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë©ë‹ˆë‹¤
        </small>
      </div>
    `;
        box.id = 'reservationsTableContainer';
        target.appendChild(box);
        const searchInput = box.querySelector('#reservationSearch');
        const pageSelect = box.querySelector('#reservationPage');
        const refreshBtn = box.querySelector('#reservationRefresh');
        searchInput.addEventListener('input', () => { pageSelect.value = '1'; renderReservations(); });
        pageSelect.addEventListener('change', () => renderReservations());
        refreshBtn.addEventListener('click', () => {
          refreshBtn.innerHTML = '<i class="bi bi-arrow-clockwise me-1 spinner-border spinner-border-sm"></i>ìƒˆë¡œê³ ì¹¨';
          setTimeout(() => {
            renderReservations();
            refreshBtn.innerHTML = '<i class="bi bi-arrow-clockwise me-1"></i>ìƒˆë¡œê³ ì¹¨';
          }, 500);
        });
        // ìë™ ìƒˆë¡œê³ ì¹¨ (30ì´ˆë§ˆë‹¤)
        setInterval(() => renderReservations(), 30000);
        renderReservations();
      }

      // ë°©ë¬¸ì ì¶”ì  ê¸°ëŠ¥
      function trackVisitor() {
        const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD
        const visitKey = 'dailyVisits';
        const visits = JSON.parse(localStorage.getItem(visitKey) || '{}');

        // ì˜¤ëŠ˜ ë‚ ì§œ ì¹´ìš´íŠ¸ ì¦ê°€
        visits[today] = (visits[today] || 0) + 1;

        // 30ì¼ ì´ì „ ë°ì´í„°ëŠ” ì‚­ì œ
        const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);
        Object.keys(visits).forEach(date => {
          if (new Date(date) < thirtyDaysAgo) delete visits[date];
        });

        localStorage.setItem(visitKey, JSON.stringify(visits));
      }

      // ë°©ë¬¸ì í†µê³„ í™•ì¸ í•¨ìˆ˜ (ì½˜ì†”ì—ì„œ ì‚¬ìš©)
      window.getVisitorStats = function () {
        const visits = JSON.parse(localStorage.getItem('dailyVisits') || '{}');
        const sorted = Object.entries(visits).sort((a, b) => b[0].localeCompare(a[0]));
        console.log('=== ì¼ë³„ ë°©ë¬¸ì í†µê³„ (ìµœê·¼ 30ì¼) ===');
        sorted.forEach(([date, count]) => {
          console.log(`${date}: ${count}ëª…`);
        });
        const total = sorted.reduce((sum, [_, count]) => sum + count, 0);
        console.log(`ì´ ë°©ë¬¸: ${total}ëª…`);
        return visits;
      };

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°©ë¬¸ ê¸°ë¡
      trackVisitor();
    });
  </script>
  <!-- Floating Kakao chat shortcut -->
  <div class="floating-chat" aria-label="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´ ë°”ë¡œê°€ê¸°">
    <a href="http://pf.kakao.com/_gIKxnn/chat" target="_blank" rel="noopener">
      <i class="bi bi-chat-dots-fill"></i><span>ì¹´í†¡ ìƒë‹´</span>
    </a>
  </div>
</body>

</html>