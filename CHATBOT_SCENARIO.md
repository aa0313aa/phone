# 전국모바일 Kakao 챗봇 시나리오 설계

본 문서는 Kakao i 오픈빌더를 활용해 상담 예약/문의 자동화 챗봇을 구축하기 위한 기본 설계입니다.

## 1. 목적
- 웹 폼 대신 카카오 채널 내부에서 필요한 정보를 단계적으로 수집
- 상담 예약/매입 문의/개통 조건 문의를 표준화
- 최초 응답 SLA 단축, 중복/누락 정보 최소화

## 2. 주요 기능(인텐트)
| 인텐트 | 설명 | 필수 슬롯 |
|--------|------|-----------|
| 상담예약_시작 | 일반 상담 및 예약 수집 시작 | 이름, 연락처, 문의유형 |
| 매입문의 | 단말 매입 평가 정보 수집 | 기기모델, 저장용량, 상태, 연락처 |
| 개통문의 | 신규/기변/번호이동, 통신사/요금제 관심 | 현재통신사, 희망유형, 희망요금대 |
| 일반FAQ | 자주 묻는 질문(영업시간, 위치, 진행 절차 등) | (슬롯 없음) |
| 상담연결 | 담당자에게 직접 연결(실시간 상담 요청) | 이름, 연락처 |
| 인사/감사 | 사용자의 "안녕하세요", "감사" 등 일반 인사 처리 | (슬롯 없음) |

## 3. 슬롯 정의
| 슬롯명 | 설명 | 검증 규칙 | 예시 |
|--------|------|-----------|------|
| 이름 | 고객 이름 | 길이 1~20 | 김철수 |
| 연락처 | 휴대폰 번호 | 정규식 `^(010|011|016|017|018|019)[0-9\-]{7,}$` | 01012345678 |
| 문의유형 | 상담예약 분류 | 선택지(비대면 개통/매장 방문/단말 매입/일반 상담) | 단말 매입 |
| 기기모델 | 매입 단말 모델명 | 길이 1~40 | iPhone 15 Pro |
| 저장용량 | 단말 용량 | 선택지(64/128/256/512/1TB) | 256 |
| 상태 | 외관/기능 상태 | 선택지(A/B/C/파손) | A |
| 현재통신사 | 개통/요금제 문의용 현재 통신사 | 선택지(SK/LG/KT/알뜰/무) | SK |
| 희망유형 | 신규/기변/번호이동 | 선택지(신규/기변/번호이동) | 번호이동 |
| 희망요금대 | 월 요금 희망 범위 | 숫자/범위 인식(예: 6~8만) | 7만원대 |
| 추가내용 | 자유 서술 | 길이 ≤ 500 | 데이터 이동 비용? |

## 4. 대화 흐름 예시 (상담예약)
1. 챗봇: "안녕하세요! 무엇을 도와드릴까요? 상담 예약을 진행하시려면 '예약'이라고 입력해주세요."
2. 사용자: "예약"
3. 챗봇: "고객님 성함을 알려주세요."
4. 사용자: "김철수"
5. 챗봇: "연락 가능한 휴대폰 번호를 숫자만으로 입력해주세요."
6. 사용자: "01012345678"
7. 챗봇: "문의 유형을 선택해주세요: 1) 비대면 개통 2) 매장 방문 3) 단말 매입 4) 일반 상담"
8. 사용자: "3"
9. 챗봇: "추가로 남기실 내용이 있다면 입력해주세요. 없으면 '없음'이라고 적어주세요."
10. 사용자: "아이폰 시세 문의"
11. 챗봇: "감사합니다! 아래 정보로 예약 접수되었습니다.\n이름: 김철수\n연락처: 01012345678\n유형: 단말 매입\n내용: 아이폰 시세 문의\n담당자가 확인 후 연락드리겠습니다. 다른 문의가 있다면 '메뉴'를 입력해주세요."

## 5. 오류 처리 / 재질문
- 유효하지 않은 연락처 → "번호 형식이 올바르지 않습니다. 예: 01012345678"
- 길이 초과(추가내용) → "내용이 너무 깁니다. 500자 이내로 다시 입력해주세요."
- 선택지 범위 외 입력 → "목록에 없는 번호입니다. 다시 선택해주세요."

## 6. FAQ 인텐트 예시
| 질문 패턴 | 답변 |
|-----------|------|
| 영업시간 | "영업시간은 10:00~20:00이며 상황에 따라 연장 가능합니다." |
| 위치/매장 | "현재는 비대면 중심으로 운영하며, 방문 주소는 상담 후 안내드립니다." |
| 진행 절차 | "문의 → 조건 안내 → 서류/정보 확인 → 개통/매입 진행 → 완료 및 정산" |
| 가격 문의 | "단말 상태/재고/시장 시세에 따라 달라집니다. 모델과 용량을 알려주시면 대략 범위를 안내드릴게요." |

## 7. 데이터 저장 / 알림 전략
- 1차: 카카오 채널 관리자센터에서 채팅 로그 관리
- 2차(확장): 웹훅 → Slack/Notion 연동(오픈빌더 자동응답 마지막 단계에서 외부 호출) *유료/승인 필요*
- 3차: 별도 서버 구축 후 REST API + DB 저장 (향후 분석/CRM 연계)

## 8. 향후 개선 아이디어
- 상담 분류 자동 라우팅(매입 담당 / 개통 담당)
- 최근 시세 간단 응답(내부 캐시 or 외부 API 연동)
- 고객 식별(휴대폰 번호 중복 시 이전 기록 조회 후 "기존 고객이시군요" 안내)
- 영업시간 외 응답 템플릿 자동 전환

## 9. 구축 단계 체크리스트
1. 채널 관리자센터에서 오픈빌더 연결
2. 오픈빌더에서 인텐트/슬롯 생성
3. 시나리오 플로우(예약) 트리 구성
4. 테스트 모드 검증(유효성/오류 문구)
5. 운영 배포(버전 태깅)
6. 주간 로그 리뷰(누락 슬롯/오류 비율 개선)

## 10. 최소 MVP 정의
- 인사 + 예약 플로우 + FAQ 3~5개 지원
- 연락처/유형/추가내용 수집 후 확정 메시지
- 오류 처리(형식오류/선택지오류) 반영

---
필요 시 이 문서를 기반으로 실제 오픈빌더 JSON 설계 초안, 또는 확장(외부 연동) 코드 샘플도 추가 가능합니다. 다음 단계로 진행할 항목을 알려주세요.
